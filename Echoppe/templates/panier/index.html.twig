{% extends 'base.html.twig' %}

{% block title %}Hello PanierController!
{% endblock %}

{% block body %}


	<div class="container-fluid">

		<div class="col-12 col-md-3 gx-5 px-5 position-fixed end-0 d-none d-md-block">
			<div class="border p-3">
				<p>Sous-total</p>
				<p>Frais de port</p>
				<p>Réduction</p>
				<hr>
				<p>Total :
					{{total}}</p>
			</div>
			<button type="button" class="btn rounded-pill my-3">Valider ma commande</button>
		</div>
		<div class="col-12 d-md-none d-sm-block mt-5">
			<div class="border p-3">
				<p>Sous-total</p>
				<p>Frais de port</p>
				<p>Réduction</p>
				<hr>
				<p>Total :
					{{total}}</p>
			</div>
			<button type="button" class="btn rounded-pill my-3">Valider ma commande</button>
		</div>
	</div>
	<div class="row mt-3">
		<div class="col-12 offset-md-1 col-md-8 mt-3">
			{% for element in dataPanier %}
				<div class="row mt-3">
					<div class="col-5 col-md-2">
						<img src="/images/photo/{{element.produit.photos.first().imageName}}" style="max-width: 150px; max-height: 150px;">
					</div>
					<div class="col-6 col-md-5 mt-3">
						<h1>{{element.produit.nomProduit}}</h1>
						<h2>{{element.produit.prixProduit}}
							€</h2>
					</div>
					<div class="col-6 col-md-5 d-flex">
						<a class="mt-4 mx-3 btn btn-danger" style="height: min-content;" href="{{path("panier_remove", {id: element.produit.id})}}">
							<h1 class="bi bi-cart-dash"></h1>
						</a>
						<h2 class="mt-5 mx-3">{{element.quantite}}</h1>
						<a class="mt-4 mx-3 btn btn-success" style="height: min-content;" href="{{path("panier_add", {id: element.produit.id})}}">
							<h1 class="bi bi-cart-plus"></h1>
						</a>
						<h2 class="mt-5 mx-3">{{element.quantite * element.produit.prixProduit}}
							€</h2>
					</div>
				</div>
			{% else %}
				<p>Panier vide</p>
			{% endfor %}


		</div>
	{% endblock %}